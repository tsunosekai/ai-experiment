---
import Base from '../../layouts/Base.astro';
import { getCollection } from 'astro:content';

const notes = (await getCollection('notes')).sort((a, b) => b.data.updated.localeCompare(a.data.updated));
---
<Base title="Notes">
  <h1>Notes</h1>
  <p class="subtitle">テーマ別蓄積ノート</p>

  {notes.length === 0 ? (
    <p>まだノートがありません。</p>
  ) : (
    <ul class="entry-list">
      {notes.map((note) => (
        <li>
          <span class="entry-date">{note.data.updated}</span>
          <a href={`/notes/${note.id}`}>{note.data.title}</a>
          {note.data.tags && note.data.tags.map((tag: string) => (
            <span class="badge badge-exploration">{tag}</span>
          ))}
        </li>
      ))}
    </ul>
  )}
</Base>
